(function(l){var p=l.merge,u=l.isArray,v=l.Axis.prototype.minInArray,w=l.Axis.prototype.maxInArray;Indicator.prototype.ema={getDefaultOptions:function(){return{period:14,index:0,approximation:"average"}},getValues:function(h,a,c,b){h=this.utils;var d=c.params,e=d.period,g=b[0].concat(a.processedXData||[]);b=(a=b[1].concat(a.processedYData||[]))?a.length:0;var l=2/(e+1),f=0,k=1,p=g[0],t=a[0],n=[],q=[],r=[],m=-1;if(!(g.length<=e)){u(a[0])&&(m=d.index?d.index:0,t=a[0][m]);for(d=[[p,t]];k!=e;)h.accumulateAverage(d,
g,a,k,m),k++;for(e=k;e<b;e++)f=h.populateAverage(d,g,a,e,l,f,m),n.push(f),q.push(f[0]),r.push(f[1]),f=f[1],h.accumulateAverage(d,g,a,e,m);f=h.populateAverage(d,g,a,e,l,f,m);n.push(f);q.push(f[0]);r.push(f[1]);c.yAxisMax=w(n);c.yAxisMin=v(n);return{values:n,xData:q,yData:r}}},getGraph:function(h,a,c,b){var d=[],e={},g=a.xAxis;a=c.Axis=a.yAxis;var l=b.length,f,k;if(!1!==c.visible){c.styles=e=p({"stroke-width":2,stroke:"red",dashstyle:"Dash"},c.styles);d.push("M",g.toPixels(b[0][0]),a.toPixels(b[0][1]));
for(k=0;k<l;k++)c=b[k][0],f=b[k][1],d.push("L",g.toPixels(c),a.toPixels(f));return[h.renderer.path(d).attr(e)]}},utils:{accumulateAverage:function(h,a,c,b,d){h.push([a[b],0>d?c[b]:c[b][d]])},populateAverage:function(h,a,c,b,d,e,g){h=0>g?c[b-2]:c[b-2][g];return[a[b-1],(0>g?c[b-1]:c[b-1][g])*d+(0===e?h:e)*(1-d)]}}}})(Highcharts);