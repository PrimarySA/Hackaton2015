(function(f){var r=f.merge,t=f.Axis.prototype.minInArray,u=f.Axis.prototype.maxInArray,v=f.isArray;Indicator.prototype.sma={getDefaultOptions:function(){return{period:14,index:0,approximation:"average"}},getValues:function(e,a,b,c){e=this.utils;var d=b.params,p=d.period,k=c[0].concat(a.processedXData||[]);c=(a=c[1].concat(a.processedYData||[]))?a.length:0;var h=1,g=k[0],l=a[0],n=[],f=[],q=[],m=-1;if(!(k.length<=p)){v(a[0])&&(m=d.index?d.index:0,l=a[0][m]);for(d=[[g,l]];h!=p;)e.accumulateAverage(d,
k,a,h,m),h++;for(;h<c;h++)g=e.populateAverage(d,k,a,h,p,m),n.push(g),f.push(g[0]),q.push(g[1]),e.accumulateAverage(d,k,a,h,m);g=e.populateAverage(d,k,a,h,p,m);n.push(g);f.push(g[0]);q.push(g[1]);b.yAxisMax=u(n);b.yAxisMin=t(n);return{values:n,xData:f,yData:q}}},getGraph:function(e,a,b,c){var d=[],f={},k=a.xAxis;a=b.Axis=a.yAxis;var h=c.length,g,l;if(!1!==b.visible){b.styles=f=r({"stroke-width":2,stroke:"red",dashstyle:"ShortDash"},b.styles);d.push("M",k.toPixels(c[0][0]),a.toPixels(c[0][1]));for(l=
0;l<h;l++)b=c[l][0],g=c[l][1],d.push("L",k.toPixels(b),a.toPixels(g));return[e.renderer.path(d).attr(f)]}},utils:{accumulateAverage:function(e,a,b,c,d){e.push([a[c],0>d?b[c]:b[c][d]])},populateAverage:function(e,a,b,c,d,f){b=e.length;b=this.sumArray(e)/b;a=a[c-1];e.shift();return[a,b]},sumArray:function(e){return e.reduce(function(a,b){return[null,a[1]+b[1]]})[1]}}}})(Highcharts);